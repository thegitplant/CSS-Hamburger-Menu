@use "../variables";

// When Checked
input:checked ~ nav {
  transform: scaleY(1);
  transform-origin: 0 top;
  transition: transform ease-in-out 250ms;
}

input ~ nav {
  top: 0;
  max-height: 0;
  z-index: 1;
  position: fixed;
  transform-origin: 0 top;
  transform: scaleY(0);
  transition: all ease-in-out 250ms;

  ul {
    min-width: 100vw;
    height: variables.$nav-size;
    position: fixed;
    margin: 0 auto;
    background-color: variables.$secondary-color;
    box-shadow: 0 0 0.125rem 0.125rem variables.$shadow-color;
    transition: all 150ms ease-in-out;

    div {
      min-width: 100vw;
      height: calc(#{variables.$nav-size} - 2.75rem);

      // Scrolling when list is too big to fit on height
      overflow: auto;
      scroll-behavior: smooth;

      // Custom scrollbar
      &::-webkit-scrollbar {
        background-color: variables.$secondary-color;
        width: 0.375rem;
      }

      &::-webkit-scrollbar-thumb {
        background-color: variables.$main-color;
      }

      scrollbar-width: thin;
      scrollbar-color: variables.$main-color transparent;
      // Direction is used for scrollbar of nav items
      // Visual scrollbar bug (overlap of 2 sidebars â†’ div + body), occurs by default
      direction: rtl;

      &:first-child {
        margin-top: 2.75rem;
      }
    }
  }
}

label {
  z-index: 2;
}

// Hamburger button animation | X
input:checked + label {
  span {
    &::before {
      bottom: 0;
      transform: rotate(45deg);
    }

    &::after {
      top: 0;
      transform: rotate(-45deg);
    }
  }
}
